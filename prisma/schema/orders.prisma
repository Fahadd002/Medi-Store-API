enum OrderStatus {
  PLACED
  PROCESSING
  SHIPPED
  DELIVERED
  CANCELLED
}

enum PaymentMethod {
  CASH_ON_DELIVERY
}

model Order {
  id              String      @id @default(uuid())
  orderNumber     String      @unique

  customerId      String
  sellerId        String

  totalAmount     Float
  status          OrderStatus @default(PLACED)
  shippingAddress String
  paymentMethod   PaymentMethod @default(CASH_ON_DELIVERY)

  customer        User        @relation("CustomerOrders", fields: [customerId], references: [id])
  seller          User        @relation("SellerOrders", fields: [sellerId], references: [id])

  items           OrderItem[]

  createdAt       DateTime    @default(now())
  updatedAt       DateTime    @updatedAt
  reviews     Review[]

  @@index([customerId])
  @@index([sellerId])
  @@index([status])
  @@map("orders")
}
